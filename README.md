
# EspPowerCtrlSys

## 项目简介
本项目为立方星电源分系统主控算法与控制代码，基于 ESP32S3 平台，采用 PlatformIO 开发环境，面向太阳帆光伏+混合储能架构的空间电源系统。实现了光伏采集、MPPT控制、SEPIC变换、储能管理、智能配电、通信等核心功能。

**起始时间**：2025-7-11  
**开发人员**：Shjdness (BG6HVQ)

---

## 项目架构

```
EspPowerCtrlSys/
│
├── platformio.ini                # PlatformIO配置
├── README.md                     # 项目说明
├── include/                      # 各模块头文件接口
│   ├── mppt.h                    # MPPT算法接口
│   ├── sepic.h                   # SEPIC转换器接口
│   ├── pdu.h                     # PDU配电单元接口
│   ├── storage.h                 # 储能管理接口
│   ├── sensors.h                 # 传感器采集接口
│   └── comms.h                   # 通信接口
│
├── lib/                          # 各模块实现
│   ├── mppt/                     # MPPT算法实现
│   ├── sepic/                    # SEPIC控制实现
│   ├── pdu/                      # PDU实现
│   ├── storage/                  # 储能管理实现
│   ├── sensors/                  # 传感器采集实现
│   └── comms/                    # 通信实现
│
├── src/
│   └── main.cpp                  # 主控入口，任务调度
│
├── test/
│   └── test_main.cpp             # 单元测试/功能测试
└──
```

---

## 功能模块

- **光伏采集**：采集太阳帆阵列电压、电流等参数
- **MPPT控制**：支持扰动观察法（P&O）、电导增量法（INC），动态追踪最大功率点
- **SEPIC变换**：宽输入电压范围，PWM占空比控制
- **储能管理**：锂电池与超级电容协同，状态监测与能量分配
- **智能PDU**：多路配电，过流/过压保护，按需分配至各子系统
- **通信接口**：UART/I2C/SPI，支持数据上传与状态反馈

---

## 技术亮点

- 高效光伏选型与抗辐射设计
- 动态MPPT算法，提升能量利用率
- 混合储能策略，兼顾能量密度与峰值响应
- 轻量化智能配电，集成多路保护
- 模块化代码结构，便于扩展与测试

---

## 快速开始

1. 安装 PlatformIO 并导入本项目
2. 连接 ESP32S3 开发板
3. 编译并烧录 `src/main.cpp` 到设备
4. 串口监视器查看主控运行状态与数据

---

## 贡献与测试

欢迎参与功能扩展与优化！可在 `test/` 目录下添加单元测试或功能验证代码。

---

## 参考与致谢

本项目参考了立方星电源系统工程设计与相关开源硬件资料，感谢所有支持者与贡献者。